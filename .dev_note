テーブルに情報流すときの文字列操作
・クランは5文字(それ以上にはならないはずだけど一応)
・IGNは先頭から18文字(半角大文字A18個を基準にテーブル幅を指定してる)
・Tierは2桁(それ以上にはならないはずだけど一応)
・艦種
・艦名
・戦闘力は8桁、3桁カンマ(流石に1億超えることはないはず)
・ダメージは6桁、3桁カンマ
・K/Dは3桁+小数点以下1桁(.0も表示)
・勝率は3桁+小数点以下1桁(.0も表示)
・生存率は(100%|100%)
・撃墜2桁+少数点以下1桁
・経験値は4桁、3桁カンマ
・戦闘数は5桁、3桁カンマ
・ランクは2桁->2桁

テーブルドラッグの実装

WoWsAPIのリクエスト制限はスタンドアロンアプリで10request/s
なのでbussyをできるだけ食らわないような実装にしたい

↑の解決策
asyncioを使って処理を非同期化
0.1秒おきにAPIを叩くメソッドを呼び出して計算させるメソッドを作る
結果をまとめるのが大変そうだけど多分なんとかできるはず
この辺が参考になるかも
https://qiita.com/icoxfog417/items/07cbf5110ca82629aca0#%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86%E3%81%AE%E5%AE%8C%E4%BA%86%E5%BE%8C%E3%81%AB%E3%82%B3%E3%83%BC%E3%83%AB%E3%83%90%E3%83%83%E3%82%AF%E5%87%A6%E7%90%86%E3%82%92%E3%81%97%E3%81%9F%E3%81%84

バックグラウンドで処理しておいて、必要な情報がそろったら
WebSocket通信でjsonデータをクライアントに投げる感じで

↑の解決策
サーバーから最初に呼び出すメソッドはページを更新する必要があるかをboolで返す
(replayフォルダの最新ファイルの名前が変わったかどうかで判定))
最初のメソッドがTrueの時だけAPI叩くメソッドを呼び出す
APIをたたくメソッドの戻り値を必要な情報が全部入ったjsonデータにすれば少しずつ更新されることはない

切り替えにcssアニメーション使いたい
できるだけユーザーに未完成のテーブルが晒されない感じで
従来のXVMはリクエストした傍からどんどんテーブルを更新していくので、
非常に動作がもっさりしているように感じる

jinja2で入力されたデータに抜けがあると500エラーを返してしまう